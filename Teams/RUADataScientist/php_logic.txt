if(resultexists){
    writeresulttosession()
}

UserLoggedIN = tryLogIn();

IF(UserLoggedIn && SESSION[results] === null) {
    global score = getscorefromdatabase();
} elseif (UserLoggedIN) {
    global score = getscorefromsession();
    writeScoreToDatabase();
} elseif (SESSION[Results] != null) {
    global score = getscorefromsession();
}   else {
    global score = null;
}

if(global score != null)
    points = calculatePoints();
    calculate(percentage);
    showScore();
}

if(!UserLoggedIN && session[loginfailed] )){
    showLoginFailedForm();
} elseif(!UserLoggedIN) {
    showLoginForm();
}
